<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project</title>

    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&family=Roboto:wght@500&family=Tourney:wght@600&display=swap"
        rel="stylesheet">
</head>

<body>
    <div class="container">

        <input type="text" id="Task" placeholder="Task Name">&nbsp;&nbsp;&nbsp;&nbsp;

        <select name="select" id="category">
            <option>Select Category</option>
            <option>NAP Bug Task</option>
            <option>NAP Dev</option>
            <option>New Project</option>
            <option>HP Update</option>
        </select>&nbsp;&nbsp;&nbsp;

        <input type="text" id="jira" placeholder="Jira ID"><br><br>

        <select id="Assigne">
            <option>Select Assigne</option>
            <option>Bibhu</option>
            <option>Tanzil</option>
        </select>&nbsp;&nbsp;&nbsp;

        <select id="Status">
            <option>Select Status</option>
            <option>In QC</option>
            <option>In Deployment</option>
            <option>On Hold</option>
            <option>Completed</option>
        </select>&nbsp;&nbsp;&nbsp;

        <input type="date" id="date">&nbsp;&nbsp;&nbsp;

        <input type="Date" id="Date"><br><br>

        <input type="text" id="mock" placeholder="Mock UP"><br><br>

        <textarea id="comments" cols="118" rows="5" placeholder="Other Comments"></textarea><br><br>

        <button type="button" class="button" onclick="SubmitDetails()">SUBMIT</button>
    </div>

    <h1>Task In Progress</h1>
    <div class="container2">
        <table border="1">
            <thead>
                <tr>
                    <td rowspan="2">TASK NAME</td>
                    <td rowspan="2">CATEGORY</td>
                    <td rowspan="2">JIRA ID</td>
                    <td rowspan="2">ASSIGNE</td>
                    <td rowspan="2">STATUS</td>
                    <td rowspan="2">DUE</td>
                    <td rowspan="2">GO LIVE</td>
                    <td rowspan="2">MOCK-UP</td>
                    <td rowspan="2">NOTES</td>
                    <td colspan="2" rowspan="1">ACTIONS</td>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>


    <script>
        var userInfo = {
            Task: "",
            category: "",
            jira: "",
            Assigne: "",
            Status: "",
            date: "",
            Date: "",
            mock: "",
            comments: ""
        }
        var everyuser=[]
        var users = []
        function SubmitDetails() {
            var dataprint = { ...userInfo }
            for (a in dataprint) {
                dataprint[a] = document.getElementById(a).value
            }
            users.push(dataprint)
            console.log(users)
            displayUsers(users)
            clearForm(users)
        }



        function displayUsers(users) {
            document.querySelector("tbody").innerHTML = ""

            users.forEach((myuser, i) => {
                var row = document.createElement("tr")
                for (a in myuser) {
                    var column = document.createElement("td")
                    column.innerHTML = myuser[a]
                    row.appendChild(column)
                }

                var editTd = document.createElement("td");
                var editBtn = document.createElement("button");
                editBtn.setAttribute("onclick", "editUser(" + i + ")");
                editBtn.innerHTML = "EDIT";
                editTd.appendChild(editBtn);
                row.appendChild(editTd);

                var doneTd = document.createElement("td");
                var donebtn = document.createElement("button");
                donebtn.setAttribute("onclick", "doneUser(" + i + ")");
                donebtn.innerHTML = "DONE";
                doneTd.appendChild(donebtn);
                row.appendChild(doneTd);
            


                document.querySelector("tbody").appendChild(row)
            })
        }

    </script>


    <script>
        function clearForm() {
            users.forEach((element) => {
                for (b in element) {
                    document.getElementById(b).value = ""
                }
            })
        }
    </script>

    <script>
        function editUser(i){
             var newUser = users[i]

             for(a in newUser){
                document.getElementById(a).value = newUser[a]
             }
        }

        
        // function donePage(){
        //     console.log(everyuser[i])  
        //     window.location.href="donePage.html?"
        // }
    </script>
     

     <script>
        function doneUser(i){
            window.location.href = "donePage.html?"+ everyuser[i]
        }
     </script>
</body>
</html>